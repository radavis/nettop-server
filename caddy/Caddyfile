{
	email {$ACME_EMAIL}
	header {
		# Enable HTTP Strict Transport Security (HSTS) to force clients to always connect via HTTPS
		Strict-Transport-Security "max-age=31536000; includeSubDomains; preload"
		# Enable cross-site filter (XSS) and tell browser to block detected attacks
		X-XSS-Protection "1; mode=block"
		# Prevent some browsers from MIME-sniffing a response away from the declared Content-Type
		X-Content-Type-Options "nosniff"
		# Disallow the site to be rendered within a frame (clickjacking protection)
		X-Frame-Options "DENY"
		# X-Robots-Tag
		X-Robots-Tag "noindex, noarchive, nofollow"
	}
}

*.{$DOMAIN_NAME} {
	tls {$ACME_EMAIL} {
		dns namecheap {
			api_key {env.NAMECHEAP_API_KEY}
			user {env.NAMECHEAP_USERNAME}
			endpoint {env.NAMECHEAP_ENDPOINT}
		}
	}
}

hello.{$DOMAIN_NAME} {
	respond "Hello"
}

www.{$DOMAIN_NAME} {
	root * /www/
	file_server
}

gitlab.{$DOMAIN_NAME} {
	reverse_proxy gitlab:80
}
